startup_message off
# highly affects memory usage:
defscrollback 100000
bell_msg ""
vbell off
nonblock on
hardstatus on
hardstatus alwayslastline
logfile "$HOME/.screenlog-%Y%m%d-%0c:%s"
logtstamp on
logtstamp after 120
shelltitle b
# read and write screen clipboard to X clipboard.
bind > eval writebuf "exec sh -c 'xsel -bi </tmp/screen-exchange'"
bind < eval "exec sh -c 'xsel -bo >/tmp/screen-exchange'" readbuf

unsetenv SSH_AUTH_SOCK
setenv SSH_AUTH_SOCK "$HOME/.ssh/auth-sock"

termcapinfo xterm|xterms|xs|rxvt ti@:te@
termcapinfo xterm|xterms|xs|rxvt 'hs:ts=E]2;:fs=07:ds=E]2;screen07'

# Ctrl+Up, Ctrl+Dn automagically enter copy mode and scroll
#bindkey "^[[A" eval copy "stuff ^b"
#bindkey "^[[B" eval copy "stuff ^f"
#bindkey -m "^[[A" eval "stuff ^b"
#bindkey -m "^[[B" eval "stuff ^f"
#termcapinfo xterm* 'hs:ts=\E]2;:fs=07:ds=\E]2;screen07'
#terminfo xterm* 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'
#
# This reads:
# - %{= kw} sets the current attributes (``%{'') to white (``w'') text on black
#   (``k'') background.
# - %-w shows the windows *before* the current one, each with something similar
#   to ``%n %t'' in format
# - %{= wk} manually inverts the colors
# - %n %t shows the window number and title
# - %{-} restores the last set color
# - %+w shows the windows *after* the current one
# - %< truncates the 
hardstatus string '%{= KW}%H%{= Kw} %Y%m%d %c:%s | %{= KW}%-w%{= wk}%n %t%{-}%+w%<'
altscreen off
